{"version":3,"sources":["firebase/firebase.js","components/helper/utility.js","actions/users.js","components/general/ProductDashboardPage.js","components/product/ProductForm.js","actions/products.js","components/product/AddProductPage.js","components/general/RegistrationForm.js","components/user/AddUserPage.js","components/product/EditProductPage.js","components/general/NotFoundPage.js","components/general/LoginPage.js","actions/auth.js","components/general/Header.js","routers/PrivateRoute.js","routers/PublicRoute.js","components/product/ProductListItem.js","components/product/ProductList.js","components/admin/AdminPage.js","actions/userPurchaseHistory.js","components/purchase/PurchaseListItem.js","components/purchase/PurchaseList.js","components/user/UserPage.js","components/manageWallet/UserListItem.js","components/manageWallet/UserList.js","components/manageWallet/PayForm.js","actions/userPaymentHistory.js","components/manageWallet/PaymentPage.js","actions/admin.js","components/manageAdminWallet/index.js","components/manageAdminWallet/PayForm.js","actions/adminHistory.js","components/manageAdminWallet/paymentPage.js","components/manageAdminWallet/paymentListItem.js","components/manageAdminWallet/paymentList.js","components/userPayment/userPaymentListItem.js","actions/currentuserHistory.js","components/userPayment/userPaymentList.js","actions/currentUserPurchaseHistory.js","components/userPurchase/userPurchaseList.js","routers/AppRouter.js","reducers/products.js","reducers/filters.js","reducers/auth.js","reducers/users.js","reducers/admin.js","reducers/adminHistory.js","reducers/userPaymentHistory.js","reducers/userPurchaseHistory.js","reducers/currentUserHistory.js","reducers/currentUserPurchaseHistory.js","store/configureStore.js","serviceWorker.js","components/general/LoadingPage.js","index.js"],"names":["firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","database","storage","googleAuthProvider","GoogleAuthProvider","dynamicSort","property","sortOrder","substr","a","b","normalDate","rawDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","startSetUsers","dispatch","getState","auth","uid","ref","once","then","snapshot","users","forEach","childSnapshot","push","id","key","val","type","setUsers","sort","startEditUser","updates","update","editUser","connect","state","props","user","find","name","createUser","className","admin","onClick","history","ProductForm","onNameChange","e","target","value","setState","onImageChange","image","onAmountChange","amount","match","setFile","data","file","handleImageChange","files","onSubmit","preventDefault","loading","put","on","console","log","error","getDownloadURL","url","product","toString","this","size","placeholder","autoFocus","onChange","goBack","React","Component","withRouter","addProduct","removeProduct","startSetProducts","products","setProducts","AddProductPage","startAddProduct","undefined","productData","RegistrationForm","htmlType","AddUserPage","message","success","existingUser","style","background","padding","gutter","span","title","bordered","numeral","format","paid","offset","EditProductPage","startEditProduct","onRemove","startRemoveProduct","params","editProduct","remove","NotFoundPage","to","startLogin","signInWithPopup","startLogout","signOut","isAuthenticated","component","rest","ProductListItem","length","map","AdminPage","addUserPurchaseHistory","Purchase","Meta","Card","PurchaseListItem","addCart","prevState","cart","removeCart","addAmount","today","Date","initialAmount","parseInt","startAddUserPurchaseHistory","quantity","date","closeModal","modalIsOpen","openModal","bind","afterOpenModal","subtitle","color","height","cover","alt","src","actions","description","visible","onOk","onCancel","width","footer","disabled","PurchaseData","UserPage","UserListItem","PayForm","newPaid","updatedPaid","addUserPaymentHistory","payment","startSetUserPaymentHistory","userPaymentHistory","PaymentPage","startPay","startAdminAddAmount","cash","startAddUserPaymentHistory","pay","paymentData","addHistory","startSetAdminHistory","adminHistory","startAdminAddHistoryAmount","startAdminPay","payAdmin","PaymentListItem","currentUserHistory","startSetCurrentUserPaymentHistory","useEffect","currentUserPurchaseHistory","startSetCurrentUserPurchaseHistory","userPurchaseHistory","purchase","dataSource","reverse","columns","dataIndex","render","pagination","defaultPageSize","createHistory","AppRouter","path","LoginPage","exact","ProductDashboardPage","UserList","manageAdminWallet","AdminPaymentPage","CashOutList","UserPaymentList","UserPurchaseList","productsReducerDefaultState","action","filter","filtersReducerDefaultState","text","sortBy","startDate","moment","startOf","endDate","endOf","email","usersReducerDefaultState","adminReducerDefaultState","adminHistoryReducerDefaultState","userPaymentHistoryReducerDefaultState","userPurchaseHistoryReducerDefaultState","currentUserPaymentHistoryReducerDefaultState","currentUserPurchaseHistoryReducerDefaultState","composeEnhancers","compose","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","LoadingPage","store","createStore","combineReducers","productsReducer","filters","filtersReducer","authReducer","usersReducer","adminReducer","adminHistoryReducer","userPaymentHistoryReducer","userPurchaseHistoryReducer","currentUserHistoryReducer","currentUserPurchaseHistoryReducer","applyMiddleware","thunk","jsx","hasRendered","renderApp","setAdmin","ReactDOM","document","getElementById","onAuthStateChanged","currentUser","displayName","login","pathname","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.71a7bd22.chunk.js","sourcesContent":["import * as firebase from 'firebase';\n//const \n\nconst config = {\n  apiKey: \"AIzaSyCzFkfDGy0EfakSGY64GnvFhnHEqS_jW8c\",\n  authDomain: \"foodcount-7d19e.firebaseapp.com\",\n  databaseURL: \"https://foodcount-7d19e-default-rtdb.firebaseio.com\",\n  projectId: \"foodcount-7d19e\",\n  storageBucket: \"foodcount-7d19e.appspot.com\",\n  messagingSenderId: \"740771838193\",\n  appId: \"1:740771838193:web:cdb175252d422067559150\",\n  measurementId: \"G-F3PRBGZN2M\"\n};\n\n//test\n// const config = {\n//   apiKey: \"AIzaSyC4UHnUgrD70jh_zbyWg93u8TIy8U3uQgI\",\n//   authDomain: \"test-d0194.firebaseapp.com\",\n//   databaseURL: \"https://test-d0194.firebaseio.com\",\n//   projectId: \"test-d0194\",\n//   storageBucket: \"test-d0194.appspot.com\",\n//   messagingSenderId: \"487345387045\",\n//   appId: \"1:487345387045:web:d83bae8c6ad5ec1c51f1cc\",\n//   measurementId: \"G-E5ZVNH0P29\"\n// };\n\n\n\n// production\n// const config = {\n//   apiKey: \"AIzaSyApbSlpzYw_yvIFUdO0CtZFn45IZ47VcVg\",\n//   authDomain: \"foodcount-e830c.firebaseapp.com\",\n//   databaseURL: \"https://foodcount-e830c.firebaseio.com\",\n//   projectId: \"foodcount-e830c\",\n//   storageBucket: \"foodcount-e830c.appspot.com\",\n//   messagingSenderId: \"594386529430\",\n//   appId: \"1:594386529430:web:f3e0787f914242b87966b7\",\n//   measurementId: \"G-K5K7S08KTJ\"\n// };\n\nfirebase.initializeApp(config);\n\nconst database = firebase.database();\nconst storage = firebase.storage();\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport { firebase, storage, googleAuthProvider, database as default };\n\n// // child_removed\n// database.ref('expenses').on('child_removed', (snapshot) => {\n//   console.log(snapshot.key, snapshot.val());\n// });\n\n// // child_changed\n// database.ref('expenses').on('child_changed', (snapshot) => {\n//   console.log(snapshot.key, snapshot.val());\n// });\n\n// // child_added\n// database.ref('expenses').on('child_added', (snapshot) => {\n//   console.log(snapshot.key, snapshot.val());\n// });\n\n// // database.ref('expenses')\n// //   .once('value')\n// //   .then((snapshot) => {\n// //     const expenses = [];\n\n// //     snapshot.forEach((childSnapshot) => {\n// //       expenses.push({\n// //         id: childSnapshot.key,\n// //         ...childSnapshot.val()\n// //       });\n// //     });\n\n// //     console.log(expenses);\n// //   });\n\n// // database.ref('expenses').on('value', (snapshot) => {\n// //   const expenses = [];\n\n// //   snapshot.forEach((childSnapshot) => {\n// //     expenses.push({\n// //       id: childSnapshot.key,\n// //       ...childSnapshot.val()\n// //     });\n// //   });\n\n// //   console.log(expenses);\n// // });\n\n// database.ref('expenses').push({\n//   description: 'Rent',\n//   note: '',\n//   amount: 109500,\n//   createdAt: 976123498763\n// });\n\n\n\n\n\n\n// // database.ref('notes/-Krll52aVDQ3X6dOtmS7').remove();\n\n// // database.ref('notes').push({\n// //   title: 'Course Topics',\n// //   body: 'React Native, Angular, Python'\n// // });\n\n// // database.ref().on('value', (snapshot) => {\n// //   const val = snapshot.val();\n// //   console.log(`${val.name} is a ${val.job.title} at ${val.job.company}`);\n// // })\n\n// // Setup data sub -> Andrew is a Software Developer at Amazon.\n\n// // Change the data and make sure it reprints\n\n// // database.ref('location/city')\n// //   .once('value')\n// //   .then((snapshot) => {\n// //     const val = snapshot.val();\n// //     console.log(val);\n// //   })\n// //   .catch((e) => {\n// //     console.log('Error fetching data', e);\n// //   });\n\n// // database.ref().set({\n// //   name: 'Andrew Mead',\n// //   age: 26,\n// //   stressLevel: 6,\n// //   job: {\n// //     title: 'Software developer',\n// //     company: 'Google'\n// //   },\n// //   location: {\n// //     city: 'Philadelphia',\n// //     country: 'United States'\n// //   }\n// // }).then(() => {\n// //   console.log('Data is saved!');\n// // }).catch((e) => {\n// //   console.log('This failed.', e);\n// // });\n\n// // database.ref().update({\n// //   stressLevel: 9,\n// //   'job/company': 'Amazon',\n// //   'location/city': 'Seattle'\n// // });\n\n// // database.ref()\n// //   .remove()\n// //   .then(() => {\n// //     console.log('Data was removed');\n// //   }).catch((e) => {\n// //     console.log('Did not remove data', e);\n// //   });\n","export const dynamicSort=(property)=> {\n    var sortOrder = 1;\n    if(property[0] === \"-\") {\n        sortOrder = -1;\n        property = property.substr(1);\n    }\n    return function (a,b) {\n        /* next line works with strings and numbers, \n         * and you may want to customize it to your needs\n         */\n        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n        return result * sortOrder;\n    }\n}\n\nexport const normalDate=(rawDate)=>{\n    var date = rawDate.getFullYear()+'-'+(rawDate.getMonth()+1)+'-'+rawDate.getDate();\n    var time = rawDate.getHours() + \":\" + rawDate.getMinutes() + \":\" + rawDate.getSeconds(); \n    let dateTime = date+' '+time;\n    return dateTime; \n}","import uuid from 'uuid';\nimport database from '../firebase/firebase';\nimport {dynamicSort} from '../components/helper/utility'\n\n// ADD_USER\nexport const addUser = (user) => ({\n  type: 'ADD_USER',\n  user\n});\n\nexport const startAddUser = (userData = {}) => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    const {\n      id = uid,\n      name = '',\n\n      amount = 0\n\n    } = userData;\n    const user = { id, name, amount };\n    //return database.ref(`users/${uid}/products`).push(product).then((ref)\n    return database.ref(`users`).push(user).then((ref) => {\n      dispatch(addUser({\n        id: ref.key,\n        ...user\n      }));\n    });\n  };\n};\n\n\n// SET_USERS\nexport const setUsers = (users) => ({\n  type: 'SET_USERS',\n  users\n});\n\nexport const startSetUsers = () => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`users`).once('value').then((snapshot) => {\n      const users = [];\n\n\n      snapshot.forEach((childSnapshot) => {\n        users.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n      dispatch(setUsers(users.sort(dynamicSort(\"name\"))));\n\n    });\n  };\n};\n\n// EDIT_USER\nexport const editUser = (id, updates) => ({\n  type: 'EDIT_USER',\n  id,\n  updates\n});\n\nexport const startEditUser = (updates) => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`users/${uid}`).update(updates).then(() => {\n      dispatch(editUser(uid, updates));\n    });\n  };\n};\n//ADD_PAY\nexport const pay = (id, updates) => ({\n  type: 'PAY',\n  id,\n  updates\n});\n\nexport const startPay = (id,updates) => {\n  return (dispatch, getState) => {\n   return database.ref(`users/${id}`).update(updates).then(() => {\n      dispatch(pay(id, updates));\n    });\n  };\n};\n\n\n// ADD_AMOUNT\nexport const addAmount = (id, updates) => ({\n  type: 'ADD_AMOUNT',\n  id,\n  updates\n});\n\nexport const startAddAmount = (id, updates) => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`users/${id}`).update(updates).then(() => {\n      dispatch(addAmount(id, updates));\n    });\n  };\n};\n","import React from 'react';\nimport { history } from '../../routers/AppRouter';\nimport { connect } from 'react-redux';\nimport { startEditUser, startSetUsers } from '../../actions/users';\n// import ClearCache from \"react-clear-cache\";\n\nexport const ProductDashboardPage = (props) => {\n  const onClickAdmin = () => {\n    history.push('/admin');\n  }\n  const onClickUser = () => {\n    history.push('/user');\n  }\n  const onClickProfile = () => {\n    history.push('/addUser');\n  }\n  const createUser = () => {\n\n    if (!props.user) {\n      const user = {\n        name: props.auth.name\n      }\n      props.startEditUser(user);\n      props.startSetUsers();\n    }\n  }\n  createUser();\n  return (\n    <div  >\n\n      {\n        props.user &&\n        <div className=\"dashboard-btn\">\n          {\n            props.user.admin == 1 &&\n            <button className='buttonAdmin' onClick={onClickAdmin} > Admin </button>\n          }\n          <button className='buttonUser' onClick={onClickUser} > Buy</button>\n        </div>\n      }\n      <button className='buttonProfile' onClick={onClickProfile} > Manage Profile</button>\n      {/* <div>\n        <ClearCache>\n          {({ isLatestVersion, emptyCacheStorage }) => (\n            <div>\n              {!isLatestVersion && (\n                <p>\n                  <button className='buttonAdmin' onClick={e => {\n                    e.preventDefault();\n                    emptyCacheStorage();\n                  }}>  Update version</button>\n                </p>\n              )}\n            </div>\n          )}\n        </ClearCache>\n      </div> */}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    user: state.users.find((user) => user.id === state.auth.uid),\n    auth: state.auth\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n\n  startEditUser: (user) => dispatch(startEditUser(user)),\n  startSetUsers: () => dispatch(startSetUsers())\n});\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDashboardPage);\n\n// export default ProductDashboardPage;\n\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { storage } from \"./../../firebase/firebase\";\nimport { Spin } from \"antd\";\n\nclass ProductForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: props.product ? props.product.name : \"\",\n\n      image: props.product ? props.product.image : \"\",\n\n      amount: props.product ? props.product.amount.toString() : \"\",\n\n      error: \"\",\n      file: null,\n      loading: false,\n    };\n  }\n  onNameChange = (e) => {\n    const name = e.target.value;\n    this.setState(() => ({ name }));\n  };\n  onImageChange = (e) => {\n    const image = e.target.value;\n    this.setState(() => ({ image }));\n  };\n  onAmountChange = (e) => {\n    const amount = e.target.value;\n\n    if (!amount || amount.match(/^\\d{1,}(\\.\\d{0,2})?$/)) {\n      this.setState(() => ({ amount }));\n    }\n  };\n\n  setFile = (data) => {\n    this.setState({\n      file: data,\n    });\n  };\n\n  handleImageChange = (e) => {\n    this.setFile(e.target.files[0]);\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    const { file } = this.state;\n    debugger;\n    const ref = storage.ref(`/images/${file.name}`);\n    const uploadTask = ref.put(file);\n    uploadTask.on(\"state_changed\", console.log, console.error, () => {\n      ref.getDownloadURL().then((url) => {\n        this.setFile(null);\n        this.setState({\n          image: url,\n        });\n        // setURL(url);\n\n        if (!this.state.name || !this.state.amount) {\n          this.setState(() => ({ error: \"Please provide name and amount.\" }));\n        } else {\n          this.setState(() => ({ error: \"\" }));\n          this.props.onSubmit({\n            name: this.state.name,\n            amount: this.state.amount,\n            image: this.state.image ? this.state.image : \"\",\n          });\n        }\n      });\n    });\n  };\n  render() {\n    return (\n      <form className=\"form\" onSubmit={this.onSubmit}>\n        {this.state.loading && (\n          <div size=\"middle\">\n            <Spin size=\"large\" />\n          </div>\n        )}\n        ,{this.state.error && <p className=\"form__error\">{this.state.error}</p>}\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          autoFocus\n          className=\"text-input\"\n          value={this.state.name}\n          onChange={this.onNameChange}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Amount\"\n          className=\"text-input\"\n          value={this.state.amount}\n          onChange={this.onAmountChange}\n        />\n        <input type=\"file\" onChange={this.handleImageChange} />\n        {/* <input\n        type=\"text\"\n        placeholder=\"Paste Image url\"\n        className=\"text-input\"\n        value={this.state.image}\n        onChange={this.onImageChange}\n      /> */}\n        <div>\n          <button className=\"button\">Save Product</button>\n          <button\n            className=\"button-red\"\n            onClick={() => {\n              this.props.history.goBack();\n            }}\n          >\n            Back\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\nexport default withRouter(ProductForm);\n","import uuid from 'uuid';\nimport database from '../firebase/firebase';\nimport { dynamicSort } from '../components/helper/utility'\n\n// ADD_PRODUCT\nexport const addProduct = (product) => ({\n  type: 'ADD_PRODUCT',\n  product\n});\n\nexport const startAddProduct = (productData = {}) => {\n  debugger\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    const {\n      name = '',\n\n      amount = 0,\n      image = ''\n\n    } = productData;\n    const product = { name, amount, image };\n    debugger\n    //return database.ref(`users/${uid}/products`).push(product).then((ref)\n    return database.ref(`products`).push(product).then((ref) => {\n      dispatch(addProduct({\n        id: ref.key,\n        ...product\n      }));\n    });\n  };\n};\n\n// REMOVE_PRODUCT\nexport const removeProduct = ({ id } = {}) => ({\n  type: 'REMOVE_PRODUCT',\n  id\n});\n\nexport const startRemoveProduct = ({ id } = {}) => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`products/${id}`).remove().then(() => {\n      dispatch(removeProduct({ id }));\n    });\n  };\n};\n\n// EDIT_PRODUCT\nexport const editProduct = (id, updates) => ({\n  type: 'EDIT_PRODUCT',\n  id,\n  updates\n});\n\nexport const startEditProduct = (id, updates) => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`products/${id}`).update(updates).then(() => {\n      dispatch(editProduct(id, updates));\n    });\n  };\n};\n\n// SET_PRODUCTS\nexport const setProducts = (products) => ({\n  type: 'SET_PRODUCTS',\n  products\n});\n\nexport const startSetProducts = () => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`products`).once('value').then((snapshot) => {\n      const products = [];\n\n\n      snapshot.forEach((childSnapshot) => {\n        products.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n      dispatch(setProducts(products.sort(dynamicSort(\"name\"))));\n    });\n  };\n};\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ProductForm from './ProductForm';\nimport { startAddProduct } from '../../actions/products';\n\nexport class AddProductPage extends React.Component {\n  onSubmit = (product) => {\n    this.props.startAddProduct(product);\n    this.props.history.push('/admin');\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"page-header\">\n          <div className=\"content-container\">\n            <h1 className=\"page-header__title\">Add Product</h1>\n          </div>\n        </div>\n        <div className=\"content-container\">\n          <ProductForm\n            onSubmit={this.onSubmit}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  startAddProduct: (product) => dispatch(startAddProduct(product))\n});\n\nexport default connect(undefined, mapDispatchToProps)(AddProductPage);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Button, Icon } from 'antd'\nclass RegistrationForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: props.user ? props.user.name : '',\n\n      error: ''\n    };\n  }\n  onNameChange = (e) => {\n    const name = e.target.value;\n    this.setState(() => ({ name }));\n  };\n\n\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    if (!this.state.name) {\n      this.setState(() => ({ error: 'Please provide name .' }));\n    } else {\n      this.setState(() => ({ error: '' }));\n      this.props.onSubmit({\n        name: this.state.name,\n\n      });\n    }\n  };\n  render() {\n    return (\n      <form className=\"form\" onSubmit={this.onSubmit}>\n        {this.state.error && <p className=\"form__error\">{this.state.error}</p>}\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          className=\"text-input\"\n          value={this.state.name}\n          onChange={this.onNameChange}\n        />\n        <div>\n          <Button type='danger' onClick={() => { this.props.history.goBack(); }}> <Icon type=\"left\" />Back</Button>\n          {' '}\n          <Button type='primary' htmlType=\"submit\">Save</Button>\n\n        </div>\n      </form>\n    )\n  }\n}\nexport default withRouter(RegistrationForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport RegistrationForm from '../general/RegistrationForm';\nimport { startEditUser, startSetUsers } from '../../actions/users';\nimport numeral from 'numeral';\nimport { Link } from 'react-router-dom';\nimport { Col, Row, Button, Card, message } from 'antd';\n\nexport class AddUserPage extends React.Component {\n  onSubmit = (user) => {\n    this.props.startEditUser(user);\n    this.props.startSetUsers();\n    message.success(\"Profile has been updated successfully\");\n    // this.props.history.push('/dashboard');\n  };\n  render() {\n    const { auth } = this.props;\n    return (\n      <div>\n        <div className=\"content-container\">\n          <div className=\"page-header\">\n            <div className=\"content-container\">\n              <h1 className=\"page-header__title\">Profile</h1>\n            </div>\n          </div>\n          <div className=\"content-container\">\n            <RegistrationForm user={this.props.existingUser}\n              onSubmit={this.onSubmit}\n            />\n          </div>\n\n          <div className='show-for-desktop' style={{ background: '#ECECEC', padding: '30px' }}>\n            <Row gutter={16}>\n              <Col span={8}>\n                <Card title=\"Total Cost\" bordered={false}>\n                  ৳{numeral(this.props.existingUser.amount).format('0,0.00')}\n                </Card>\n              </Col>\n              <Col span={8}>\n                <Card title=\"Total Paid\" bordered={false}>\n                  ৳{numeral(this.props.existingUser.paid).format('0,0.00')}\n                </Card>\n              </Col>\n              <Col span={8}>\n                <Card title=\"Total Due\" bordered={false}>\n                  ৳{numeral(this.props.existingUser.amount - (this.props.existingUser.paid ? this.props.existingUser.paid : 0)).format('0,0.00')}\n                </Card>\n              </Col>\n            </Row>\n          </div>\n          <div className=\"show-for-mobile \">\n            <div className=\" list-item-wallet\">\n              <h2 className=\"list-item__data\">Total Cost: ৳{numeral(this.props.existingUser.amount).format('0,0.00')}</h2>\n              <h2 className=\"list-item__data\">Total Paid: ৳{numeral(this.props.existingUser.paid).format('0,0.00')}</h2>\n              <h2 className=\"list-item__data\">Total Due: ৳{numeral(this.props.existingUser.amount - (this.props.existingUser.paid ? this.props.existingUser.paid : 0)).format('0,0.00')}</h2>\n            </div>\n          </div>\n          <div className='show-for-mobile'>\n            <br />\n            <Button type='primary' onClick={() => { this.props.history.push(`/userPaymentHistory/${this.props.existingUser.id}`); }} >Payment History</Button>{'  '}\n            <Button type='primary' onClick={() => { this.props.history.push(`/userPurchaseHistory/${this.props.existingUser.id}`); }} >Purchase History</Button>\n          </div>\n          <div className='show-for-desktop'>\n            <br />\n            <Row gutter={[40, 24]}>\n              <Col span={12} offset={7}>\n                <Button type='primary' onClick={() => { this.props.history.push(`/userPaymentHistory/${this.props.existingUser.id}`); }} >Payment History</Button>{'  '}\n                <Button type='primary' onClick={() => { this.props.history.push(`/userPurchaseHistory/${this.props.existingUser.id}`); }} >Purchase History</Button>\n              </Col>\n            </Row>\n\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  //  existingUser: state.users.find((user) => user.id === props.match.params.id)\n  existingUser: state.users.find((user) => user.id === state.auth.uid),\n  auth: state.auth,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n\n  startEditUser: (user) => dispatch(startEditUser(user)),\n  startSetUsers: () => dispatch(startSetUsers())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddUserPage);","import React from 'react';\nimport { connect } from 'react-redux';\nimport ProductForm from './ProductForm';\nimport { startEditProduct, startRemoveProduct } from '../../actions/products';\n\nexport class EditProductPage extends React.Component {\n  onSubmit = (product) => {\n    this.props.startEditProduct(this.props.product.id, product);\n    this.props.history.push('/admin');\n  };\n  onRemove = () => {\n    this.props.startRemoveProduct({ id: this.props.product.id });\n    this.props.history.push('/admin');\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"page-header\">\n          <div className=\"content-container\">\n            <h1 className=\"page-header__title\">Edit Product</h1>\n          </div>\n        </div>\n        <div className=\"content-container\">\n          <ProductForm\n            product={this.props.product}\n            onSubmit={this.onSubmit}\n          />\n          <button className=\"button button--secondary\" onClick={this.onRemove}>Remove Product</button>\n        </div>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state, props) => ({\n  product: state.products.find((product) => product.id === props.match.params.id)\n});\n\nconst mapDispatchToProps = (dispatch, props) => ({\n  startEditProduct: (id, product) => dispatch(startEditProduct(id, product)),\n  startRemoveProduct: (data) => dispatch(startRemoveProduct(data))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditProductPage);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFoundPage = () => (\n  <div>\n    404 - <Link to=\"/\">Go home</Link>\n  </div>\n);\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { startLogin } from '../../actions/auth';\n\nexport const LoginPage = ({ startLogin }) => (\n  <div className=\"box-layout\">\n    <div className=\"box-layout__box\">\n      <h1 className=\"box-layout__title\">Food Count</h1>\n      <p>Let's Eat.</p>\n      <button className=\"button\" onClick={startLogin}>Login with Google</button>\n    </div>\n  </div>\n);\n\nconst mapDispatchToProps = (dispatch) => ({\n  startLogin: () => dispatch(startLogin())\n});\n\nexport default connect(undefined, mapDispatchToProps)(LoginPage);\n","import { firebase, googleAuthProvider } from '../firebase/firebase';\n\nexport const login = (uid , email=firebase.auth().currentUser.email , name=firebase.auth().currentUser.displayName) => ({\n  type: 'LOGIN',\n  uid,\n  email,\n  name\n});\n\nexport const startLogin = () => {\n  return () => {\n    return firebase.auth().signInWithPopup(googleAuthProvider);\n  };\n};\n\nexport const logout = () => ({\n  type: 'LOGOUT'\n});\n\nexport const startLogout = () => {\n  return () => {\n    return firebase.auth().signOut();\n  };\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport '../../styles/plugins/fontawesome/font-awesome.min.css';\nimport { startLogout } from '../../actions/auth';\n\nexport const Header = ({ startLogout }) => (\n  <header className=\"header\">\n    <div className=\"content-container\">\n      <div className=\"header__content\">\n        <Link className=\"header__title\" to=\"/dashboard\">\n        <h2 className=\"text-white h2 mb-0\">Food Count</h2>\n        </Link>\n        <button className=\"button button--link\" onClick={startLogout}>Logout</button>\n      </div>\n    </div>\n  </header>\n);\n\nconst mapDispatchToProps = (dispatch) => ({\n  startLogout: () => dispatch(startLogout())\n});\n\nexport default connect(undefined, mapDispatchToProps)(Header);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport Header from '../components/general/Header';\n\nexport const PrivateRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => (\n    <Route {...rest} component={(props) => (\n      isAuthenticated ? (\n        <div>\n          <Header />\n          <Component {...props} />\n        </div>\n      ) : (\n          <Redirect to=\"/\" />\n        )\n    )} />\n  );\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: !!state.auth.uid\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport const PublicRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => (\n    <Route {...rest} component={(props) => (\n      isAuthenticated ? (\n        <Redirect to=\"/dashboard\" />\n      ) : (\n          <Component {...props} />\n        )\n    )} />\n  );\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: !!state.auth.uid\n});\n\nexport default connect(mapStateToProps)(PublicRoute);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport numeral from 'numeral';\n\nconst ProductListItem = ({ id, name, amount }) => (\n  <Link className=\"list-item\" to={`/edit/${id}`}>\n    <div>\n      <h3 className=\"list-item__title\">{name}</h3>\n     </div>\n    <h3 className=\"list-item__data\">৳{numeral(amount).format('0,0.00')}</h3>\n  </Link>\n);\n\nexport default ProductListItem;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ProductListItem from './ProductListItem';\n// import selectProducts from '../selectors/products';\n\nexport const ProductList = (props) => (\n  <div className=\"content-container\">\n    <div className=\"list-header\">\n      <div className=\"show-for-mobile\">Products</div>\n      <div className=\"show-for-desktop\">Product</div>\n      <div className=\"show-for-desktop\">Amount</div>\n    </div>\n\n    <div className=\"list-body\">\n      {\n\n        props.products.length === 0 ? (\n          <div className=\"list-item list-item--message\">\n            <span>No products</span>\n          </div>\n        ) : (\n            props.products.map((product) => {\n              return <ProductListItem key={product.id} {...product} />;\n            })\n          )\n      }\n    </div>\n  </div>\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    products: state.products,\n    name: state\n  };\n};\n\nexport default connect(mapStateToProps)(ProductList);\n","import React from 'react';\nimport ProductList from '../product/ProductList';\nimport { Link } from 'react-router-dom';\nimport { Button, Icon } from 'antd';\n\n\n\n\nconst AdminPage = (props) => (\n  <div>\n    <div className=\"page-header__actions\">\n      <Link className=\"button\" to=\"/create\">Add Product</Link>\n      <Link className=\"button\" to=\"/manageWallet\">Manage Wallet</Link>\n      <Link className=\"button\" to=\"/manageAdminWallet\">Admin Wallet</Link>\n    </div>\n    <ProductList />\n    <div className=\"content-container\">\n      <Button type={\"danger\"} onClick={() => { props.history.goBack(); }}><Icon type=\"left\" />Back</Button>\n    </div>\n\n  </div>\n);\n\nexport default AdminPage;","import database from '../firebase/firebase';\n\n\n\n//ADD Purchase History\nexport const addUserPurchaseHistory = (id, Purchase) => ({\n  type: 'ADD_USER_PURCHASE_HISTORY',\n  id,\n  Purchase\n});\n\nexport const startAddUserPurchaseHistory = (id, PurchaseData = {}) => {\n  return (dispatch, getState) => {\n    const {\n      date = '',\n\n      amount = 0,\n      name = '',\n      quantity = 0\n\n    } = PurchaseData;\n    const Purchase = {date, amount, name, quantity};\n    return database.ref(`userPurchaseHistory/${id}`).push(Purchase).then((ref) => {\n      dispatch(addUserPurchaseHistory({\n        ...Purchase\n      }));\n    });\n  };\n};\n\n\n// SET_ADMIN\nexport const setUserPurchaseHistory = (Purchase) => ({\n  type: 'SET_USER_PURCHASE_HISTORY',\n  Purchase\n});\n\nexport const startSetUserPurchaseHistory = () => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`userPurchaseHistory`).once('value').then((snapshot) => {\n      const userPurchaseHistory = [];\n     \n\n      snapshot.forEach((childSnapshot) => {\n        userPurchaseHistory.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n\n\n      dispatch(setUserPurchaseHistory(userPurchaseHistory));\n    });\n  };\n};","import React from 'react';\nimport numeral from 'numeral';\nimport { connect } from 'react-redux';\nimport { startEditUser } from '../../actions/users';\nimport { startAddUserPurchaseHistory } from '../../actions/userPurchaseHistory';\nimport { normalDate } from '../helper/utility'\nimport { Col, Row, Button, Card, Icon, Modal, message } from 'antd';\n\n// import Modal from 'react-modal';\nconst { Meta } = Card;\n\nconst customStyles = {\n  content: {\n    // width: \"80%\",\n    // // height: \"50%\",\n    // top: '30%',\n    // background: \"white\"\n\n  }\n};\n\n\n\n// Modal.setAppElement('#app')\n\nexport class PurchaseListItem extends React.Component {\n\n  constructor(props) {\n    super();\n\n    this.state = {\n      modalIsOpen: false,\n      cart: 1,\n    };\n\n    this.openModal = this.openModal.bind(this);\n    this.afterOpenModal = this.afterOpenModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n\n  }\n\n  openModal() {\n    this.setState({ modalIsOpen: true });\n  }\n\n  afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    this.subtitle.style.color = '#000';\n  }\n\n  closeModal() {\n\n    this.setState({ modalIsOpen: false });\n    if (this.state.cart) {\n      this.setState((prevState, props) => ({\n        cart: 1\n      }));\n    }\n  }\n  addCart = () => {\n    this.setState((prevState, props) => ({\n      cart: prevState.cart + 1\n    }));\n  }\n  removeCart = () => {\n    if (this.state.cart>1) {\n      this.setState((prevState, props) => ({\n        cart: prevState.cart - 1\n      }));\n    }\n  }\n\n  addAmount = () => {\n    let today = new Date;\n\n    const initialAmount = this.props.user.amount * 1 ? this.props.user.amount * 1 : '0';\n    const user = {\n      amount: ((parseInt(initialAmount) + (parseInt(this.props.amount) * this.state.cart)))\n    }\n    this.props.startEditUser(user);\n    this.props.startAddUserPurchaseHistory(this.props.user.id, { name: this.props.name, amount: this.props.amount, quantity: this.state.cart, date: normalDate(today) });\n    this.closeModal();\n    message.success(\"Product has been purchased successfully\");\n\n\n  }\n  render() {\n    return (\n      <div>\n        <div className='show-for-mobile'>\n          <Col span={24}>\n            <Card\n              bordered={true}\n              style={{ height: 300 }}\n              cover={\n                <img\n                  alt=\"example\"\n                  src={this.props.image ? this.props.image : \"https://www.ukmarket.in/sites/default/files/styles/large/public/default_images/default-product.jpg?itok=Ptm5dtOz\"}\n                  height={'200'}\n                // width={'200'}\n                />\n              }\n              actions={[\n                <button style={{ color: 'red' }} className=\"list-item-button \" onClick={this.openModal}> <Icon type=\"shopping-cart\" /> Buy Now </button>\n              ]}\n            >\n              <Meta\n                // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\n                title={this.props.name}\n                description={numeral(this.props.amount).format('‎0,0.00')}\n              />\n            </Card>\n        </Col>\n        </div>\n\n        <div className='show-for-desktop' >\n          <Col span={8}>\n            <Card\n              bordered={true}\n              style={{ height: 300 }}\n              cover={\n                <img\n                  alt=\"example\"\n                  src={this.props.image ? this.props.image : \"https://www.ukmarket.in/sites/default/files/styles/large/public/default_images/default-product.jpg?itok=Ptm5dtOz\"}\n                  height={'200'}\n                />\n              }\n              actions={[\n                <button style={{ color: 'red' }} className=\"list-item-button \" onClick={this.openModal}> <Icon type=\"shopping-cart\" /> Buy Now </button>\n              ]}\n            >\n              <Meta\n                // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\n                title={this.props.name}\n                description={numeral(this.props.amount).format('‎0,0.00')}\n              />\n            </Card>\n        </Col>\n\n        </div>\n\n        <Modal\n          title=\"Buy this product\"\n          visible={this.state.modalIsOpen}\n          onOk={this.addAmount}\n          onCancel={this.closeModal}\n          width='80%'\n          footer={false}\n        >\n          <div className='show-for-mobile'>\n            <div className='cart_subtitle'>\n              <h2 ref={subtitle => this.subtitle = subtitle}>{this.props.name}</h2>\n            </div>\n            <div className=\"price-div\">Price:{this.props.amount} bdt</div>\n            <div className=\"cost-div\">Total Cost:{(parseInt(this.props.amount)) * this.state.cart} bdt</div>\n\n            <div className=\"quantity\">\n              <span>\n                <button className=\"removeCart\" onClick={this.removeCart}>-</button>\n              </span>\n              <span className=\"box-item\">\n                {this.state.cart}\n              </span>\n\n              <span>\n                <button className=\"addCart\" onClick={this.addCart}>+</button>\n\n              </span>\n            </div>\n\n            <br />\n\n\n            <button className=\"cancelButton\" onClick={this.closeModal}>close</button>\n             <button className=\"purchaseButton\" disabled={this.state.cart<1} onClick={this.addAmount}>Purchase</button>\n          </div>\n          <div className='show-for-desktop'>\n            <Row gutter={[40, 24]}>\n              <Col span={8} offset={8}>\n                <Card title={\"Purchase\"}  >\n                  <div className='cart_subtitle'>\n                    <h2 ref={subtitle => this.subtitle = subtitle}>{this.props.name}</h2>\n                  </div>\n                  <div className=\"price-div\">Price:{this.props.amount} bdt</div>\n                  <div className=\"cost-div\">Total Cost:{(parseInt(this.props.amount)) * this.state.cart} bdt</div>\n\n                  <div className=\"quantity\">\n                    <span>\n                      <button className=\"removeCart\" onClick={this.removeCart}>-</button>\n                    </span>\n                    <span className=\"box-item\">\n                      {this.state.cart}\n                    </span>\n                    <span>\n                      <button className=\"addCart\" onClick={this.addCart}>+</button>\n                    </span>\n                  </div>\n                  <br />\n                </Card>\n              </Col>\n            </Row>\n            <Row gutter={[40, 24]}>\n              <Col span={8} offset={10}>\n                <Button type='danger' onClick={this.closeModal}>close</Button> {' '}\n                <Button type='primary' disabled={this.state.cart<1} onClick={this.addAmount}>Purchase</Button>\n              </Col>\n            </Row>\n\n          </div>\n        </Modal>\n      </div>\n    )\n\n\n  }\n\n};\n\n\nconst mapStateToProps = (state, props) => {\n  return {\n    user: state.users.find((user) => user.id === state.auth.uid)\n\n  }\n};\n\n// const mapDispatchToProps = (dispatch) => ({\n\n//   startEditUser: (user) => dispatch(startEditUser(user))\n// });\n\nexport default connect(mapStateToProps, { startEditUser, startAddUserPurchaseHistory })(PurchaseListItem);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PurchaseListItem from './PurchaseListItem';\nimport { withRouter } from 'react-router-dom';\nimport { Col, Row, Button, Icon } from 'antd';\n\nexport const PurchaseList = (props) => {\n\n  //  const [count, setCount] = useState(0);\n\n  return (\n    <div className=\"content-container\">\n\n      <div className=\"list-header\">\n        <div className=\"show-for-mobile\">Total Cost : {(props.user.amount ? props.user.amount : 0) - (props.user.paid ? props.user.paid : 0)} </div>\n        <div className=\"show-for-desktop\">Total Cost :</div>\n        <div className=\"show-for-desktop\">{(props.user.amount ? props.user.amount : 0) - (props.user.paid ? props.user.paid : 0)}</div>\n      </div>\n\n      <div className=\"list-body\">\n      <br />\n\n        {\n\n          props.products.length === 0 ? (\n            <div className=\"list-item\">\n              <span>No products</span>\n            </div>\n          ) : (\n              \n              <Row gutter={[40, 24]}>\n                {props.products.map((product) => {\n                  return <PurchaseListItem key={product.id} {...product} />;\n                })}\n              </Row>\n            )\n        }\n        <Button type={\"danger\"} onClick={() => { props.history.goBack(); }}><Icon type=\"left\" />Back</Button>\n\n\n      </div>\n    </div>\n  );\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    products: state.products,\n    user: state.users.find((user) => user.id === state.auth.uid),\n    name: state\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(PurchaseList));\n","import React from 'react';\nimport PurchaseList from '../purchase/PurchaseList';\nimport { Link } from 'react-router-dom';\n\n\n\nconst UserPage = () => (\n  <div>\n  <div className=\"page-header__actions\">\n </div>\n    <PurchaseList />\n  </div>\n);\n\nexport default UserPage;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport numeral from 'numeral';\n\nconst UserListItem = ({ id, name, amount, paid }) => (\n  <Link className=\"list-item-user\" to={`/pay/${id}`}>\n    <div>\n      <h3 className=\"list-item-user__title\">{name}</h3>\n     </div>\n    <h5 className=\"list-item-user__data\">Total Cost: ৳{numeral(amount).format('0,0.00')}</h5>\n    <h5 className=\"list-item-user__data\">Total Paid: ৳{numeral(paid).format('0,0.00')}</h5>\n    <h5 className=\"list-item-user__data\">Total Due: ৳{numeral(amount-(paid?paid:0)).format('0,0.00')}</h5>\n  </Link>\n);\n\nexport default UserListItem;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport UserListItem from './UserListItem';\nimport { Link } from 'react-router-dom';\n\nexport const UserList = (props) => (\n  <div className=\"content-container\">\n    <div className=\"list-header\">\n      <div className=\"show-for-mobile\">Users List </div>\n      \n     \n    </div>\n    \n    <div className=\"list-body\">\n      {\n        \n        props.users.length === 0 ? (\n          <div className=\"list-item-user list-item--message\">\n            <span>No User</span>\n          </div>\n        ) : (\n            props.users.map((user) => {\n              return <UserListItem key={user.id} {...user} />;\n            })\n          )\n      }\n      <button className=\"button-red\" onClick={()=>{props.history.goBack();}}>Back</button>\n\n    </div>\n  </div>\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    users: state.users,\n    name:state\n  };\n};\n\nexport default connect(mapStateToProps)(UserList);\n","import React , { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\n\n class PayForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            name: props.user ? props.user.name : '',\n            amount: props.user && props.user.amount ? (props.user.amount).toString() : 0,\n            paid: props.user &&  props.user.paid ? (props.user.paid).toString() : 0,\n            newPaid:'',\n            error: ''\n        };\n    }\n    onNameChange = (e) => {\n        const name = e.target.value;\n        this.setState(() => ({ name }));\n    };\n\n    onAmountChange = (e) => {\n        const newPaid = e.target.value;\n\n        if (!newPaid || newPaid.match(/^\\d{1,}(\\.\\d{0,2})?$/)) {\n            this.setState(() => ({ newPaid }));\n        }\n    };\n\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        const updatedPaid= (parseInt(this.state.paid)+parseInt(this.state.newPaid));\n\n        if (!this.state.newPaid) {\n            this.setState(() => ({ error: 'Please provide amount.' }));\n        } else {\n            this.setState(() => ({ error: '' }));\n            this.props.onSubmit({\n                name: this.state.name,\n                amount: this.state.amount,\n                paid:updatedPaid\n\n            },this.state.newPaid);\n        }\n    };\n    render() {\n        return (\n            <form className=\"form\" onSubmit={this.onSubmit}>\n                {this.state.error && <p className=\"form__error\">{this.state.error}</p>}\n                <input\n                    type=\"text\"\n                    placeholder=\"Name\"\n                    autoFocus\n                    className=\"text-input\"\n                    value={this.state.name}\n                    onChange={this.onNameChange}\n                    disabled={true}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Name\"\n                    autoFocus\n                    className=\"text-input\"\n                    value={\"Due: \"+(parseInt(this.state.amount)-parseInt(this.state.paid))+\" bdt\"}\n                    \n                    disabled={true}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"type amount to pay\"\n                    className=\"text-input\"\n                    value={this.state.newPaid}\n                    onChange={this.onAmountChange}\n                />\n\n\n\n                <div>\n                    <button className=\"button-save\">Proceed Payment</button>\n                    <button className=\"button-red\" onClick={()=>{this.props.history.goBack();}}>Back</button>\n                </div>\n            </form>\n        )\n    }\n}\n\n\nexport default  withRouter(PayForm);","import database from '../firebase/firebase';\n\n\n\n//ADD Payment History\nexport const addUserPaymentHistory = (payment) => ({\n  type: 'ADD_USER_PAYMENT_HISTORY',\n  payment\n});\n\nexport const startAddUserPaymentHistory = (id, paymentData = {}) => {\n  return (dispatch, getState) => {\n    const {\n      date = '',\n\n      amount = 0\n\n    } = paymentData;\n    const payment = { date, amount };\n    return database.ref(`userPaymentHistory/${id}`).push(payment).then((ref) => {\n      dispatch(addUserPaymentHistory({\n        ...payment\n      }));\n    });\n  };\n};\n\n\n// SET_ADMIN\nexport const setUserPaymentHistory = (payment) => ({\n  type: 'SET_USER_PAYMENT_HISTORY',\n  payment\n});\n\nexport const startSetUserPaymentHistory = () => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`userPaymentHistory`).once('value').then((snapshot) => {\n      const userPaymentHistory = [];\n     \n\n      snapshot.forEach((childSnapshot) => {\n        userPaymentHistory.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n\n\n      dispatch(setUserPaymentHistory(userPaymentHistory));\n    });\n  };\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport PayForm from './PayForm';\nimport { startAdminAddAmount } from '../../actions/admin';\nimport { startPay } from '../../actions/users';\nimport {normalDate} from '../helper/utility'\nimport { Link } from 'react-router-dom';\nimport { startAddUserPaymentHistory,startSetUserPaymentHistory } from '../../actions/userPaymentHistory';\nimport { message } from 'antd';\n\n\nexport class PaymentPage extends React.Component {\n  onSubmit = (user, paid) => {\n    let today = new Date;\n\n    this.props.startPay(this.props.user.id, user);\n    this.props.startAdminAddAmount({ cash: parseInt(this.props.admin.cash ? this.props.admin.cash : 0) + parseInt(paid) })\n    this.props.startAddUserPaymentHistory(this.props.user.id,{date: normalDate(today), amount:paid })\n    this.props.startSetUserPaymentHistory();\n    message.success(\"Payment successful\");\n    this.props.history.push('/manageWallet');\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"page-header\">\n          <div className=\"content-container\">\n            <h1 className=\"page-header__title\">Payment Page </h1>\n          </div>\n        </div>\n        <div className=\"content-container\">\n          <PayForm\n            user={this.props.user}\n            onSubmit={this.onSubmit}\n          />\n           <Link className=\"button \"  to={`/userPaymentHistory/${this.props.user.id}`} >Payment History</Link>\n           <Link className=\"button \"  to={`/userPurchaseHistory/${this.props.user.id}`} >Purchase History</Link>\n\n          \n        </div>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state, props) => ({\n  user: state.users.find((user) => user.id === props.match.params.id),\n  admin: state.admin\n});\n\n// const mapDispatchToProps = (dispatch, props) => ({\n//     startPay: (id, user) => dispatch(startPay(id, user)),\n//     startAdminAddAmount:(updates)=>dispatch(startAdminAddAmount(updates))\n// });\n\nexport default connect(mapStateToProps, { startPay, startAdminAddAmount, startAddUserPaymentHistory ,startSetUserPaymentHistory})(PaymentPage);\n","import uuid from 'uuid';\nimport database from '../firebase/firebase';\nimport { dynamicSort } from '../components/helper/utility'\n\n\n//ADD_PAY\nexport const payAdmin = (updates) => ({\n  type: 'PAY_ADMIN',\n  updates\n});\n\nexport const startAdminPay = (updates) => {\n  return (dispatch, getState) => {\n    return database.ref(`admin/`).update(updates).then(() => {\n      dispatch(payAdmin(updates));\n    });\n  };\n};\n\n\n// ADD_AMOUNT\nexport const addAmount = (updates) => ({\n  type: 'ADD_AMOUNT_ADMIN',\n  updates\n});\n\nexport const startAdminAddAmount = (updates) => {\n  return (dispatch, getState) => {\n    return database.ref(`admin/`).update(updates).then(() => {\n      dispatch(addAmount(updates));\n    });\n  };\n};\n\n\n// SET_ADMIN\nexport const setAdmin = (admin) => ({\n  type: 'SET_ADMIN',\n  admin\n});\n\nexport const startSetAdmin = () => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`admin`).once('value').then((snapshot) => {\n     \n\n      \n       \n      \n      dispatch(setAdmin(snapshot.val()));\n\n    });\n  };\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport numeral from 'numeral';\nimport { Link } from 'react-router-dom';\n\nexport class AddUserPage extends React.Component {\n  onSubmit = (user) => {\n    \n    this.props.startEditUser(user);\n    this.props.startSetUsers();\n    this.props.history.push('/dashboard');\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"page-header\">\n          <div className=\"content-container\">\n            <h1 className=\"page-header__title\">Profile</h1>\n          </div>\n        </div>\n\n\n        <div className=\"list-item-wallet\">\n          <h2 className=\"list-item__data\">Payment : ৳{numeral(this.props.admin.cash).format('0,0.00')}</h2>\n          <h2 className=\"list-item__data\">Withdrawal: ৳{numeral(this.props.admin.paid).format('0,0.00')}</h2>\n          <h2 className=\"list-item__data\">Cash: ৳{numeral(this.props.admin.cash - (this.props.admin.paid ? this.props.admin.paid : 0)).format('0,0.00')}</h2>\n        </div>\n        <div>\n          <Link className=\"button\" to=\"/payAdminWallet\">Withdraw</Link>\n          <Link className=\"button\" to=\"/adminCashOutHistory\">Withdrawal History</Link>\n          <button className=\"button-red\" onClick={()=>{this.props.history.goBack();}}>Back</button>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  //  existingUser: state.users.find((user) => user.id === props.match.params.id)\n  admin: state.admin\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddUserPage);","import React , { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\n\n class PayForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            cash: props.admin && props.admin.cash ? (props.admin.cash).toString() : 0,\n            paid: props.admin &&  props.admin.paid ? (props.admin.paid).toString() : 0,\n            newPaid:'',\n            error: ''\n        };\n    }\n    onNameChange = (e) => {\n        const name = e.target.value;\n        this.setState(() => ({ name }));\n    };\n\n    onAmountChange = (e) => {\n        const newPaid = e.target.value;\n\n        if (!newPaid || newPaid.match(/^\\d{1,}(\\.\\d{0,2})?$/)) {\n            this.setState(() => ({ newPaid }));\n        }\n    };\n\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        const updatedPaid= (parseInt(this.props.admin.paid ? this.props.admin.paid:0)+parseInt(this.state.newPaid));\n\n        if ( !this.state.newPaid) {\n            this.setState(() => ({ error: 'Please provide name and amount.' }));\n        } else {\n            this.setState(() => ({ error: '' }));\n            this.props.onSubmit({\n                paid:updatedPaid\n\n            },this.state.newPaid);\n        }\n    };\n    render() {\n        return (\n            <form className=\"form\" onSubmit={this.onSubmit}>\n                {this.state.error && <p className=\"form__error\">{this.state.error}</p>}\n               \n                <input\n                    type=\"text\"\n                    placeholder=\"Name\"\n                    autoFocus\n                    className=\"text-input\"\n                    value={\"Cash: \"+(parseInt(this.props.admin.cash?this.props.admin.cash:0)-parseInt(this.props.admin.paid ?this.props.admin.paid : 0))+\" bdt\"}\n                    \n                    disabled={true}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"type amount to pay\"\n                    className=\"text-input\"\n                    value={this.state.newPaid}\n                    onChange={this.onAmountChange}\n                />\n\n\n\n                <div>\n                    <button className=\"button-save\">Proceed Payment</button>\n                    <button className=\"button-red\" onClick={()=>{this.props.history.goBack();}}>Back</button>\n                </div>\n            </form>\n        )\n    }\n}\nexport default withRouter(PayForm) ","import uuid from 'uuid';\nimport database from '../firebase/firebase';\nimport { dynamicSort } from '../components/helper/utility'\n\n\n\n//ADD Payment History\nexport const addHistory = (payment) => ({\n  type: 'ADD_HISTORY',\n  payment\n});\n\nexport const startAdminAddHistoryAmount = (paymentData = {}) => {\n  return (dispatch, getState) => {\n    const {\n      date = '',\n\n      amount = 0\n\n    } = paymentData;\n    const payment = { date, amount };\n    return database.ref(`adminHistory`).push(payment).then((ref) => {\n      dispatch(addHistory({\n        ...payment\n      }));\n    });\n  };\n};\n\n\n// SET_ADMIN\nexport const setAdminHistory = (payment) => ({\n  type: 'SET_ADMIN_HISTORY',\n  payment\n});\n\nexport const startSetAdminHistory = () => {\n  return (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    return database.ref(`adminHistory`).once('value').then((snapshot) => {\n      const adminHistory = [];\n     \n\n      snapshot.forEach((childSnapshot) => {\n        adminHistory.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n\n\n      dispatch(setAdminHistory(adminHistory));\n    });\n  };\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport PayForm from './PayForm';\nimport {  startAdminPay } from '../../actions/admin';\nimport { startAdminAddHistoryAmount,startSetAdminHistory } from '../../actions/adminHistory';\nimport {normalDate} from '../helper/utility';\nimport {message} from 'antd'\n\n\nexport class PaymentPage extends React.Component {\n  onSubmit = (payment, amount) => {\n    let today = new Date;\n    this.props.startAdminAddHistoryAmount({ date: normalDate(today), amount });\n    this.props.startAdminPay(payment);\n    this.props.startSetAdminHistory();\n    message.success(\"Withdrawn Successful\")\n    this.props.history.push('/manageAdminWallet');\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"page-header\">\n          <div className=\"content-container\">\n            <h1 className=\"page-header__title\">Payment Page </h1>\n          </div>\n        </div>\n        <div className=\"content-container\">\n          <PayForm\n            admin={this.props.admin}\n            onSubmit={this.onSubmit}\n          />\n\n        </div>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state, props) => ({\n  user: state.users.find((user) => user.id === props.match.params.id),\n  admin: state.admin\n});\n\n// const mapDispatchToProps = (dispatch, props) => ({\n//     startPay: (id, user) => dispatch(startPay(id, user)),\n//     startAdminAddHistoryAmount:(date,)\n// });\n\nexport default connect(mapStateToProps, { startAdminAddHistoryAmount, startAdminPay ,startSetAdminHistory})(PaymentPage);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport numeral from 'numeral';\n\nconst PaymentListItem = ({ id, amount, date }) => (\n  <div className=\"list-item\" >\n    \n    <h5 className=\"list-item__data\"> {date}</h5>\n    <h5 className=\"list-item__data\">৳{numeral(amount).format('0,0.00')}</h5>\n\n  </div>\n);\n\nexport default PaymentListItem;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PaymentListItem from './paymentListItem';\nimport { Link } from 'react-router-dom';\n\nexport const PaymentList = (props) => (\n  <div className=\"content-container\">\n    <div className=\"list-item\" >\n\n      <h5 className=\"list-item__data\"> Date</h5>\n      <h5 className=\"list-item__data\">Amount</h5>\n\n\n\n    </div>\n\n    <div className=\"list-body scrollable\">\n      {\n\n        props.adminHistory.length === 0 ? (\n          <div className=\"list-item-user list-item--message\">\n            <span>No History</span>\n          </div>\n        ) : (\n            props.adminHistory.map((user) => {\n              return <PaymentListItem key={user.id} {...user} />;\n            })\n          )\n      }\n    </div>\n    <button className=\"button-red\" onClick={() => { props.history.goBack(); }}>Back</button>\n  </div>\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    adminHistory: state.adminHistory,\n    // name:state\n  };\n};\n\nexport default connect(mapStateToProps)(PaymentList);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport numeral from 'numeral';\n\nconst PaymentListItem = ({ id, amount, date }) => (\n  <div className=\"list-item\" >\n    <h5 className=\"list-item__data\"> {date}</h5>\n    <h5 className=\"list-item__data\">৳{numeral(amount).format('0,0.00')}</h5>\n\n  </div>\n);\n\nexport default PaymentListItem;\n","import database from '../firebase/firebase';\n\n\n\n// SET_ADMIN\nexport const setCurrentUserPaymentHistory = (payment) => ({\n  type: 'SET_CURRENT_USER_PAYMENT_HISTORY',\n  payment\n});\n\nexport const startSetCurrentUserPaymentHistory = (id) => {\n  return (dispatch, getState) => {\n    return database.ref(`userPaymentHistory/${id}`).once('value').then((snapshot) => {\n      const userPaymentHistory = [];\n\n      snapshot.forEach((childSnapshot) => {\n        userPaymentHistory.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n\n\n      dispatch(setCurrentUserPaymentHistory(userPaymentHistory));\n    });\n  };\n};","import React ,{useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport PaymentListItem from './userPaymentListItem';\nimport { startSetCurrentUserPaymentHistory } from '../../actions/currentuserHistory';\nimport { withRouter } from 'react-router-dom';\n\n\nexport const PaymentList = (props) =>{\n  useEffect(() => {\n    if (props.match.params.id) {\n      props.startSetCurrentUserPaymentHistory(props.match.params.id)\n    }\n  },[props.match.params.id]);\n\n  \n  return(\n  <div className=\"content-container\">\n    <div className=\"list-item\" >\n    \n    <h5 className=\"list-item__data\"> Date</h5>\n    <h5 className=\"list-item__data\">Amount</h5>\n\n      \n     \n    </div>\n    \n    <div className=\"list-body\">\n    {\n      \n      props.currentUserHistory.length === 0 ? (\n        <div className=\"list-item-user list-item--message\">\n          <span>No History</span>\n        </div>\n      ) : (\n          props.currentUserHistory.map((user) => {\n            return <PaymentListItem key={user.id} {...user} />;\n          })\n        )\n    }\n    <button className=\"button-red\" onClick={()=>{props.history.goBack();}}>Back</button>\n\n  </div>\n  </div>\n);\n}\nconst mapStateToProps = (state, props) => {\n  return {\n    currentUserHistory: state.currentUserHistory ,\n     id : props.match.params.id\n  };\n};\n\nexport default connect(mapStateToProps,{startSetCurrentUserPaymentHistory})(PaymentList);\n","import database from '../firebase/firebase';\n\n\n\n// SET_ADMIN\nexport const setCurrentUserPurchaseHistory = (purchase) => ({\n  type: 'SET_CURRENT_USER_PURCHASE_HISTORY',\n  purchase\n});\n\nexport const startSetCurrentUserPurchaseHistory = (id) => {\n\n  return (dispatch, getState) => {\n    return database.ref(`userPurchaseHistory/${id}`).once('value').then((snapshot) => {\n      const userPurchaseHistory = [];\n\n      snapshot.forEach((childSnapshot) => {\n        userPurchaseHistory.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n\n\n      dispatch(setCurrentUserPurchaseHistory(userPurchaseHistory));\n    });\n  };\n};","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n// import PurchaseListItem from './userPurchaseListItem';\nimport { startSetCurrentUserPurchaseHistory } from '../../actions/currentUserPurchaseHistory';\nimport { Link } from 'react-router-dom';\nimport {Table} from 'antd';\n\nexport const PurchaseList = (props) => {\n  useEffect(() => {\n    if (props.match.params.id) {\n      props.startSetCurrentUserPurchaseHistory(props.match.params.id)\n    }\n  }, [props, props.match.params.id]);\n  \n  const columns=[\n    {\n      title: 'Date',\n      dataIndex: 'date',\n      key: 'date',\n    },\n    {\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n    },\n    {\n      title: 'Quantity',\n      dataIndex: 'quantity',\n      key: 'quantity',\n    },\n    {\n      title: 'Amount',\n      key:data=>'data.amount' + data.quantity,\n      render:data=>data.amount * data.quantity\n    },\n  ]\n\n  const pagination={\n    defaultPageSize:5\n  }\n\n  return (\n    <div className=\"content-container\">\n      <div className=\"list-item\" >\n\n        <h5 className=\"list-item__data\"> Purchase List: {props.user.name} </h5>\n\n\n\n      </div>\n      <Table className=\"table\" dataSource={props.currentUserPurchaseHistory && props.currentUserPurchaseHistory.reverse()} columns={columns} pagination={pagination} />\n\n      {/* \n\n        props.currentUserPurchaseHistory.length === 0 ? (\n          <div className=\"list-item-user list-item--message\">\n            <span>No History</span>\n          </div>\n        ) : (\n            <div className=\"scrollable\">\n              <table className=\"table\" border='1' >\n                <thead >\n                  <tr>\n                    <th>Date</th>\n                    <th>Name</th>\n                    <th>Qty</th>\n                    <th>Rate</th>\n                    <th>Total</th>\n                  </tr>\n                </thead>\n\n                {props.currentUserPurchaseHistory.map((user) => {\n                  return <PurchaseListItem key={user.id} {...user} />;\n                })}\n              </table>\n            </div>\n\n          )\n       */}\n      <button className=\"button-red\" onClick={() => { props.history.goBack(); }}>Back</button>\n\n\n    </div>\n  );\n}\nconst mapStateToProps = (state, props) => {\n  return {\n    user: state.users.find((user) => user.id === props.match.params.id),\n    currentUserPurchaseHistory: state.currentUserPurchaseHistory,\n    id: props.match.params.id\n  };\n};\n\nexport default connect(mapStateToProps, { startSetCurrentUserPurchaseHistory })(PurchaseList);\n","import React from 'react';\nimport { Router, Route, Switch, Link, NavLink } from 'react-router-dom';\nimport createHistory from 'history/createBrowserHistory';\nimport ProductDashboardPage from '../components/general/ProductDashboardPage';\nimport AddProductPage from '../components/product/AddProductPage';\nimport AddUserPage from '../components/user/AddUserPage';\nimport EditProductPage from '../components/product/EditProductPage';\nimport NotFoundPage from '../components/general/NotFoundPage';\nimport LoginPage from '../components/general/LoginPage';\nimport PrivateRoute from './PrivateRoute';\nimport PublicRoute from './PublicRoute';\nimport AdminPage from '../components/admin/AdminPage'\nimport UserPage from '../components/user/UserPage'\nimport UserList from '../components/manageWallet/UserList'\nimport PaymentPage from '../components/manageWallet/PaymentPage'\nimport manageAdminWallet from '../components/manageAdminWallet'\nimport AdminPaymentPage from '../components/manageAdminWallet/paymentPage'\nimport CashOutList from '../components/manageAdminWallet/paymentList'\nimport UserPaymentList  from '../components/userPayment/userPaymentList'\nimport UserPurchaseList  from '../components/userPurchase/userPurchaseList'\n\n\n\nexport const history = createHistory();\n\nconst AppRouter = () => (\n  <Router history={history}>\n    <div>\n      <Switch>\n        <PublicRoute path=\"/\" component={LoginPage} exact={true} />\n        <PrivateRoute path=\"/admin\" component={AdminPage} />\n        <PrivateRoute path=\"/dashboard\" component={ProductDashboardPage} />\n        <PrivateRoute path=\"/user\" component={UserPage} />\n        <PrivateRoute path=\"/create\" component={AddProductPage} />\n        <PrivateRoute path=\"/addUser\" component={AddUserPage} />\n        <PrivateRoute path=\"/manageWallet\" component={UserList} />\n        <PrivateRoute path=\"/manageAdminWallet\" component={manageAdminWallet} />\n        <PrivateRoute path=\"/payAdminWallet\" component={AdminPaymentPage} />\n        <PrivateRoute path=\"/adminCashOutHistory\" component={CashOutList} />\n        \n\n\n        <PrivateRoute path=\"/userPaymentHistory/:id\" component={UserPaymentList} />\n        <PrivateRoute path=\"/userPurchaseHistory/:id\" component={UserPurchaseList} />\n        <PrivateRoute path=\"/pay/:id\" component={PaymentPage} />\n        <PrivateRoute path=\"/edit/:id\" component={EditProductPage} />\n    {/*  <PrivateRoute path=\"/addAmount/:id\" component={EditProductPage} /> */}\n        <Route component={NotFoundPage} />\n      </Switch>\n    </div>\n  </Router>\n);\n\nexport default AppRouter;\n","// Products Reducer\n\nconst productsReducerDefaultState = [];\n\nexport default (state = productsReducerDefaultState, action) => {\n  switch (action.type) {\n    case 'ADD_PRODUCT':\n      return [\n        ...state,\n        action.product\n      ];\n    case 'REMOVE_PRODUCT':\n      return state.filter(({ id }) => id !== action.id);\n    case 'EDIT_PRODUCT':\n      return state.map((product) => {\n        if (product.id === action.id) {\n          return {\n            ...product,\n            ...action.updates\n          };\n        } else {\n          return product;\n        };\n      });\n    case 'SET_PRODUCTS':\n      return action.products;\n\n\n    default:\n      return state;\n  }\n};\n","import moment from 'moment';\n\n// Filters Reducer\n\nconst filtersReducerDefaultState = {\n  text: '',\n  sortBy: 'date',\n  startDate: moment().startOf('month'),\n  endDate: moment().endOf('month')\n};\n\nexport default (state = filtersReducerDefaultState, action) => {\n  switch (action.type) {\n    case 'SET_TEXT_FILTER':\n      return {\n        ...state,\n        text: action.text\n      };\n    case 'SORT_BY_AMOUNT':\n      return {\n        ...state,\n        sortBy: 'amount'\n      };\n    case 'SORT_BY_DATE':\n      return {\n        ...state,\n        sortBy: 'date'\n      };\n    case 'SET_START_DATE':\n      return {\n        ...state,\n        startDate: action.startDate\n      };\n    case 'SET_END_DATE':\n      return {\n        ...state,\n        endDate: action.endDate\n      };\n    default:\n      return state;\n  }\n};\n","export default (state = {}, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return {\n        uid: action.uid,\n        email: action.email,\n        name:action.name\n      };\n    case 'LOGOUT':\n      return {};\n    default:\n      return state;\n  }\n};\n","// users Reducer\n\nconst usersReducerDefaultState = [];\n\nexport default (state = usersReducerDefaultState, action) => {\n  switch (action.type) {\n   \n    case 'ADD_USER':\n      return [\n        ...state,\n        action.user\n      ];\n      case 'EDIT_USER':\n      return state.map((user) => {\n        if (user.id === action.id) {\n          return {\n            ...user,\n            ...action.updates\n          };\n        } else {\n          return user;\n        };\n      });\n      case 'PAY':\n      return state.map((user) => {\n        if (user.id === action.id) {\n          return {\n            ...user,\n            ...action.updates\n          };\n        } else {\n          return user;\n        };\n      });\n    case 'SET_USERS':\n      return action.users;\n    case 'ADD_AMOUNT':\n      return state.map((user) => {\n        if (user.id === action.id) {\n          return {\n            ...user,\n            ...action.updates\n          };\n        } else {\n          return user;\n        };\n      });\n    default:\n      return state;\n  }\n};\n","// users Reducer\n\nconst adminReducerDefaultState = [];\n\nexport default (state = adminReducerDefaultState, action) => {\n  switch (action.type) {\n\n    case 'PAY_ADMIN':\n     \n          return {\n            ...state,\n            ...action.updates\n          };\n       \n\n    case 'ADD_AMOUNT_ADMIN':\n      return {\n        ...state,\n        ...action.updates\n      };\n   \n      case 'SET_ADMIN':\n\n      return {\n        ...state,\n       ...action.admin\n\n      };\n    default:\n      return state;\n  }\n};\n","// users Reducer\n\nconst adminHistoryReducerDefaultState = [];\n\nexport default (state = adminHistoryReducerDefaultState, action) => {\n  switch (action.type) {\n\n    \n    case 'ADD_HISTORY':\n      let payment=action.payment;\n      return [\n        ...state,\n        action.payment\n  ];\n      case 'SET_ADMIN_HISTORY':\n\n        return action.payment;\n    default:\n      return state;\n  }\n};\n","// users Reducer\n\nconst userPaymentHistoryReducerDefaultState = [];\n\nexport default (state = userPaymentHistoryReducerDefaultState, action) => {\n  switch (action.type) {\n\n    \n    case 'ADD_USER_PAYMENT_HISTORY':\n      return [\n        ...state,\n        action.payment\n  ];\n      case 'SET_USER_PAYMENT_HISTORY':\n\n        return action.payment;\n    default:\n      return state;\n  }\n};\n","// users Reducer\n\nconst userPurchaseHistoryReducerDefaultState = [];\n\nexport default (state = userPurchaseHistoryReducerDefaultState, action) => {\n  switch (action.type) {\n\n    \n    case 'ADD_USER_PURCHASE_HISTORY':\n      return [\n        ...state,\n        action.purchase\n  ];\n      case 'SET_USER_PURCHASE_HISTORY':\n\n        return action.purchase;\n    default:\n      return state;\n  }\n};\n","// users Reducer\n\nconst currentUserPaymentHistoryReducerDefaultState = [];\n\nexport default (state = currentUserPaymentHistoryReducerDefaultState, action) => {\n  switch (action.type) {\n\n\n\n    case 'SET_CURRENT_USER_PAYMENT_HISTORY':\n\n      return action.payment;\n    default:\n      return state;\n  }\n};\n","// users Reducer\n\nconst currentUserPurchaseHistoryReducerDefaultState = [];\n\nexport default (state = currentUserPurchaseHistoryReducerDefaultState, action) => {\n  switch (action.type) {\n    case 'SET_CURRENT_USER_PURCHASE_HISTORY':\n      return action.purchase;\n    default:\n      return state;\n  }\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport productsReducer from '../reducers/products';\nimport filtersReducer from '../reducers/filters';\nimport authReducer from '../reducers/auth';\nimport usersReducer from '../reducers/users';\nimport adminReducer from '../reducers/admin';\nimport adminHistoryReducer from '../reducers/adminHistory';\nimport userPaymentHistoryReducer from '../reducers/userPaymentHistory';\nimport userPurchaseHistoryReducer from '../reducers/userPurchaseHistory';\nimport currentUserHistoryReducer from '../reducers/currentUserHistory';\nimport currentUserPurchaseHistoryReducer from '../reducers/currentUserPurchaseHistory';\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst composeEnhancers =  compose;\n\nexport default () => {\n  const store = createStore(\n    combineReducers({\n      products: productsReducer,\n      filters: filtersReducer,\n      auth: authReducer,\n      users:usersReducer,\n      admin:adminReducer,\n      adminHistory:adminHistoryReducer,\n      userPaymentHistory:userPaymentHistoryReducer,\n      userPurchaseHistory:userPurchaseHistoryReducer,\n      currentUserHistory:currentUserHistoryReducer,\n      currentUserPurchaseHistory:currentUserPurchaseHistoryReducer,\n\n\n    }),\n    composeEnhancers(applyMiddleware(thunk))\n  );\n\n  return store;\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\n\nconst LoadingPage = () => (\n  <div className=\"loader\">\n    <img className=\"loader__image\" src=\"/images/loader.gif\" />\n  </div>\n);\n\nexport default LoadingPage;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport AppRouter, { history } from './routers/AppRouter';\nimport configureStore from './store/configureStore';\nimport { startSetProducts } from './actions/products';\nimport {startSetUsers } from './actions/users';\nimport {startSetAdmin } from './actions/admin';\nimport {startSetAdminHistory } from './actions/adminHistory';\nimport {startSetUserPaymentHistory } from './actions/userPaymentHistory';\nimport { login, logout } from './actions/auth';\nimport * as serviceWorker from './serviceWorker';\nimport { firebase } from './firebase/firebase';\nimport LoadingPage from './components/general/LoadingPage';\nimport './styles/styles.scss';\nimport 'antd/dist/antd.css';\n\n// ReactDOM.render(<App />, document.getElementById('app'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nconst store = configureStore();\nconst jsx = (\n  <Provider store={store}>\n  \n    <AppRouter />\n  </Provider>\n);\nlet hasRendered = false;\nconst renderApp = () => {\n  if (!hasRendered) {\n    store.dispatch(startSetUsers());\n    store.dispatch(startSetProducts());\n    store.dispatch(startSetAdmin());\n    store.dispatch(startSetAdminHistory());\n    store.dispatch(startSetUserPaymentHistory());\n\n    ReactDOM.render(jsx, document.getElementById('app'));\n    hasRendered = true;\n  }\n};\n\nReactDOM.render(<LoadingPage />, document.getElementById('app'));\n\nfirebase.auth().onAuthStateChanged((user) => {\n  if (user) {\n    store.dispatch(login(user.uid));\n    store.dispatch(startSetUsers());\n    store.dispatch(startSetProducts()).then(() => {\n      renderApp();\n      if (history.location.pathname === '/') {\n      history.push('/dashboard');\n      }\n    });\n  } else {\n    store.dispatch(logout());\n    renderApp();\n    history.push('/');\n  }\n});\n\nserviceWorker.register();\n"],"sourceRoot":""}